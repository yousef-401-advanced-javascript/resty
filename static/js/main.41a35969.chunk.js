(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(8),s=a(10),l=a(9),c=a(0),o=a.n(c),u=a(20),i=a.n(u),p=(a(27),a(14)),h=a(1),m=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement("h1",null,"RESTy"),o.a.createElement("nav",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(p.b,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement(p.c,{to:"/history"},"History")))))}}]),a}(o.a.Component),d=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("footer",null,"\xa9 2020 Yousef Al-Shun")}}]),a}(o.a.Component);var b,f=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Results"),o.a.createElement("div",{className:"apiResults"},o.a.createElement("pre",null,JSON.stringify({Headers:e.headers,Response:e.results},null,"\t"))))},E=History=function(e){var t=[],a=localStorage.getItem("history");return a&&(t=JSON.parse(a)),o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"results"},o.a.createElement("ul",null,t.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("span",{className:"method"},e.method),o.a.createElement("span",{className:"url"},e.url))})))))},g=a(6),v=a.n(g),O=a(12),j=(a(34),a(37)),y=localStorage.getItem("history");y&&(b=JSON.parse(y));var x=b||[],k=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).getHandler=function(){var e=Object(O.a)(v.a.mark((function e(t){var a,n,s,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r.props.url||!r.props.method){e.next=16;break}return e.next=4,fetch(r.props.url);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,r.props.resultsHandler(n),s={method:r.props.method,url:r.props.url,results:n,id:Object(j.a)()},x.unshift(s),r.setState({theBigObj:x}),l=JSON.stringify(r.state.theBigObj),localStorage.setItem("history",l),e.next=17;break;case 16:alert("missing info");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),r.postHandler=Object(O.a)(v.a.mark((function e(){var t,a,n,s,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r.props.url||!r.props.method){e.next=17;break}return t={method:"POST",headers:{"Content-Type":"application/json"},body:r.state.body},e.next=5,fetch(r.props.url,t);case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,r.props.resultsHandler(n),s={method:r.props.method,url:r.props.url,results:n,id:Object(j.a)()},x.unshift(s),r.setState({theBigObj:x}),l=JSON.stringify(r.state.theBigObj),localStorage.setItem("history",l),e.next=18;break;case 17:alert("missing info");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])}))),r.putHandler=Object(O.a)(v.a.mark((function e(){var t,a,n,s,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r.props.url||!r.props.method){e.next=17;break}return t={method:"PUT",headers:{"Content-Type":"application/json"},body:r.state.body},e.next=5,fetch(r.props.url,t);case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,r.props.resultsHandler(n),s={method:r.props.method,url:r.props.url,results:n,id:Object(j.a)()},x.unshift(s),r.setState({theBigObj:x}),l=JSON.stringify(r.state.theBigObj),localStorage.setItem("history",l),e.next=18;break;case 17:alert("missing info");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])}))),r.deleteHandler=function(){var e=Object(O.a)(v.a.mark((function e(t){var a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"DELETE",headers:{"Content-Type":"application/json"}},e.next=4,fetch(r.props.url,a);case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,r.props.resultsHandler(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),r.handleSubmit=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t.preventDefault(),t.target.reset(),e.t0=r.props.method,e.next="post"===e.t0?6:"put"===e.t0?9:"delete"===e.t0?12:15;break;case 6:return e.next=8,r.postHandler(t);case 8:return e.abrupt("break",17);case 9:return e.next=11,r.putHandler(t);case 11:return e.abrupt("break",17);case 12:return e.next=14,r.deleteHandler(t);case 14:return e.abrupt("break",17);case 15:return e.next=17,r.getHandler(t);case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(0),console.log(e.t1);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),r.bodyChange=function(e){var t=e.target.value;r.setState({body:t})},r.state={theBigObj:b||[],body:""},r}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("label",null,o.a.createElement("span",null,"URL: "),o.a.createElement("input",{name:"url",id:"urll",type:"text",onChange:this.props.handleChangeUrl}),o.a.createElement("button",null,"GO!")),o.a.createElement("label",null,o.a.createElement("span",{id:"get",className:"get"===this.props.method?"active":"",onClick:this.props.handleChangeMethod},"GET"),o.a.createElement("span",{id:"post",className:"post"===this.props.method?"active":"",onClick:this.props.handleChangeMethod},"POST"),o.a.createElement("span",{id:"put",className:"put"===this.props.method?"active":"",onClick:this.props.handleChangeMethod},"PUT"),o.a.createElement("span",{id:"delete",className:"delete"===this.props.method?"active":"",onClick:this.props.handleChangeMethod},"DELETE")),o.a.createElement("label",null,"the Body"),o.a.createElement("textarea",{onChange:this.bodyChange})),o.a.createElement("section",{className:"results"},o.a.createElement("ul",null,this.state.theBigObj.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("span",{className:"method"},e.method),o.a.createElement("span",{className:"url"},e.url))})))))}}]),a}(o.a.Component),C=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handlingTheResults=function(e){r.setState({results:e,headers:{Accept:"application/json"}})},r.handleChangeUrl=function(e){var t=e.target.value;r.setState({url:t})},r.handleChangeMethod=function(e){var t=e.target.id;r.setState({method:t})},r.state={method:"get",url:"",counts:0,results:{},headers:{}},r}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,null,o.a.createElement(m,null),o.a.createElement(h.a,{exact:!0,path:"/"},o.a.createElement("main",null,o.a.createElement(k,{resultsHandler:this.handlingTheResults,handleChangeUrl:this.handleChangeUrl,handleChangeMethod:this.handleChangeMethod,url:this.state.url,method:this.state.method}),o.a.createElement(f,{headers:this.state.headers,results:this.state.results}))),o.a.createElement(h.a,{exact:!0,path:"/history"},o.a.createElement("main",null,o.a.createElement(E,null))),o.a.createElement(d,null)))}}]),a}(o.a.Component),S=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement(C,null)}}]),a}(o.a.Component),H=document.getElementById("root");i.a.render(o.a.createElement(S,null),H)}},[[22,1,2]]]);
//# sourceMappingURL=main.41a35969.chunk.js.map